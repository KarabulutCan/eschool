"use strict";var __extends,kendo;(function(n){var t;(function(n){var t;(function(n){var t=function(){function n(){this.name="recaptcha";this.autoBind=!0;this.sitekey="";this.secretkey="";this.theme="light";this.type="image";this.size="compact";this.badge="bottomright"}return n}();n.RecaptchaOptions=t})(t=n.recaptcha||(n.recaptcha={}))})(t=n.ui||(n.ui={}))})(kendo||(kendo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var i;(function(i){i.__meta__={id:"recaptcha",name:"reCAPTCHA",category:"web",description:"reCAPTCHA protects you against spam and other types of automated abuse. Here, we explain how to add reCAPTCHA to your site or application.",depends:["core"]};i.CHANGE="change";i.RESET="reset";i.NS=".kendoRecaptcha";var r=function(r){function u(n,t){var u=r.call(this,n,$.extend(!0,new i.RecaptchaOptions,t))||this;return u.value=function(n){if(u.isSet(n))u.element.val(n);else return u.element.val()},u.getOptions=u.getOptions.bind(u),u.setOptions=u.setOptions.bind(u),u.clearOptions=u.clearOptions.bind(u),u.convertOptions=u.convertOptions.bind(u),u.onRecaptchaCallback=u.onRecaptchaCallback.bind(u),u.onRecaptchaExpiredCallback=u.onRecaptchaExpiredCallback.bind(u),u.renderRecaptcha=u.renderRecaptcha.bind(u),u.unrenderRecaptcha=u.unrenderRecaptcha.bind(u),u.renderRecaptchaWithCheck=u.renderRecaptchaWithCheck.bind(u),u.refresh=u.refresh.bind(u),u.destroy=u.destroy.bind(u),u._initEventHandler=u._initEventHandler.bind(u),u._change=u._change.bind(u),u.renderWrapper=u.renderWrapper.bind(u),$(n).data("kendoRecaptcha",u),u.events.push(i.CHANGE),u._initEventHandler(),u.renderWrapper(),u.renderRecaptcha(),u}return __extends(u,r),u.prototype._initEventHandler=function(){var n=this;this._changeHandler=$.proxy(this._change,this);this.element.on(i.CHANGE,function(t){return n._changeHandler(t)});var t=this.element,r=t.attr("form"),u=r?$("#"+r):t.closest("form");u[0]&&(this._resetHandler=function(){setTimeout(function(){grecaptcha.reset(n.recaptchaId)})},this._form=u.on(i.RESET,function(t){return n._resetHandler(t)}))},u.prototype._change=function(){this._value=this.element.val();this.trigger(i.CHANGE,{value:this._value})},u.prototype.destroy=function(){t.Widget.fn.destroy.call(this);this.element.off(i.CHANGE);this.element.off(i.NS);this.element.empty();this.recaptchaId=undefined;n.destroy(this.element)},u.prototype.getOptions=function(){return this.options},u.prototype.clearOptions=function(){this.options=new i.RecaptchaOptions},u.prototype.setOptions=function(n){var t=$.extend(!0,new i.RecaptchaOptions,n);r.prototype.setOptions.call(this,t);this.refresh()},u.prototype.convertOptions=function(n){return{sitekey:n.sitekey,theme:n.theme,type:n.type,size:n.size,tabindex:n.tabindex,badge:n.badge,callback:this.onRecaptchaCallback,"expired-callback":this.onRecaptchaExpiredCallback}},u.prototype.onRecaptchaExpiredCallback=function(){this.element.val(undefined);this._change()},u.prototype.onRecaptchaCallback=function(n){this.element.val(n);this._change()},u.prototype.renderWrapper=function(){var n=this.element,t=n.parents(".k-recaptcha");t.is("div.k-recaptcha")||(t=n.hide().wrap("<div/>").parent());t[0].style.cssText=n[0].style.cssText;n[0].style.width="";this.wrapper=t.addClass("k-recaptcha").addClass(n[0].className).css("display","")},u.prototype.unrenderRecaptcha=function(){this.isSet(this.recaptchaId)&&(grecaptcha.reset(this.recaptchaId),this.recaptchaId=undefined);this.isSet(this.recaptchaElement)&&(this.recaptchaElement.remove(),this.recaptchaElement=undefined)},u.prototype.renderRecaptcha=function(){this.isSet(this.recaptchaId)&&this.unrenderRecaptcha();this.renderRecaptchaWithCheck(0)},u.prototype.renderRecaptchaWithCheck=function(n){var t=this,i=this.options;n>20||(grecaptcha.render!==undefined?(this.recaptchaElement=$("<div />").insertBefore(this.element),this.recaptchaId=grecaptcha.render(this.recaptchaElement[0],this.convertOptions(i))):setTimeout(function(){return t.renderRecaptchaWithCheck(++n)},150))},u.prototype.refresh=function(){this.renderRecaptcha()},u.prototype.notSet=function(n){return n===null||n===undefined},u.prototype.isSet=function(n){return n!==null&&n!==undefined},u}(n.ui.Widget);i.Recaptcha=r;r.fn=r.prototype;r.fn.options=new i.RecaptchaOptions;n.ui.plugin(r)})(i=t.recaptcha||(t.recaptcha={}))})(t=n.ui||(n.ui={}))}(kendo||(kendo={}));